var an=Object.defineProperty;var cn=(t,e,n)=>e in t?an(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var et=(t,e,n)=>cn(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function W(){}const Xe=t=>t;function Jt(t){return t()}function gt(){return Object.create(null)}function ce(t){t.forEach(Jt)}function Ue(t){return typeof t=="function"}function ve(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function fn(t){return Object.keys(t).length===0}function Vt(t,...e){if(t==null){for(const l of e)l(void 0);return W}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function se(t){let e;return Vt(t,n=>e=n)(),e}function fe(t,e,n){t.$$.on_destroy.push(Vt(e,n))}function _t(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Xt=typeof window<"u";let ct=Xt?()=>window.performance.now():()=>Date.now(),ft=Xt?t=>requestAnimationFrame(t):W;const ze=new Set;function Qt(t){ze.forEach(e=>{e.c(t)||(ze.delete(e),e.f())}),ze.size!==0&&ft(Qt)}function ut(t){let e;return ze.size===0&&ft(Qt),{promise:new Promise(n=>{ze.add(e={c:t,f:n})}),abort(){ze.delete(e)}}}function f(t,e){t.appendChild(e)}function en(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function un(t){const e=v("style");return e.textContent="/* empty */",dn(en(t),e),e.sheet}function dn(t,e){return f(t.head||t,e),e.sheet}function q(t,e,n){t.insertBefore(e,n||null)}function O(t){t.parentNode&&t.parentNode.removeChild(t)}function ke(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function G(t){return document.createTextNode(t)}function R(){return G(" ")}function dt(){return G("")}function ne(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function tn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function hn(t){return Array.from(t.childNodes)}function K(t,e){e=""+e,t.data!==e&&(t.data=e)}function We(t,e){t.value=e??""}function oe(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function ue(t,e,n){t.classList.toggle(e,!!n)}function nn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}const Be=new Map;let Ke=0;function pn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function mn(t,e){const n={stylesheet:un(e),rules:{}};return Be.set(t,n),n}function Ye(t,e,n,l,s,i,r,o=0){const a=16.666/l;let c=`{
`;for(let w=0;w<=1;w+=a){const j=e+(n-e)*i(w);c+=w*100+`%{${r(j,1-j)}}
`}const d=c+`100% {${r(n,1-n)}}
}`,b=`__svelte_${pn(d)}_${o}`,p=en(t),{stylesheet:y,rules:u}=Be.get(p)||mn(p,t);u[b]||(u[b]=!0,y.insertRule(`@keyframes ${b} ${d}`,y.cssRules.length));const M=t.style.animation||"";return t.style.animation=`${M?`${M}, `:""}${b} ${l}ms linear ${s}ms 1 both`,Ke+=1,b}function Ze(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),Ke-=s,Ke||vn())}function vn(){ft(()=>{Ke||(Be.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&O(e)}),Be.clear())})}let He;function Oe(t){He=t}function ht(){if(!He)throw new Error("Function called outside component initialization");return He}function gn(t){ht().$$.on_mount.push(t)}function _n(t){ht().$$.on_destroy.push(t)}function yn(){const t=ht();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=nn(e,n,{cancelable:l});return s.slice().forEach(r=>{r.call(t,i)}),!i.defaultPrevented}return!0}}function ln(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const Se=[],yt=[];let Te=[];const bt=[],bn=Promise.resolve();let lt=!1;function wn(){lt||(lt=!0,bn.then(sn))}function me(t){Te.push(t)}const tt=new Set;let Ie=0;function sn(){if(Ie!==0)return;const t=He;do{try{for(;Ie<Se.length;){const e=Se[Ie];Ie++,Oe(e),kn(e.$$)}}catch(e){throw Se.length=0,Ie=0,e}for(Oe(null),Se.length=0,Ie=0;yt.length;)yt.pop()();for(let e=0;e<Te.length;e+=1){const n=Te[e];tt.has(n)||(tt.add(n),n())}Te.length=0}while(Se.length);for(;bt.length;)bt.pop()();lt=!1,tt.clear(),Oe(t)}function kn(t){if(t.fragment!==null){t.update(),ce(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(me)}}function Mn(t){const e=[],n=[];Te.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Te=e}let Pe;function pt(){return Pe||(Pe=Promise.resolve(),Pe.then(()=>{Pe=null})),Pe}function Me(t,e,n){t.dispatchEvent(nn(`${e?"intro":"outro"}${n}`))}const Fe=new Set;let de;function Ne(){de={r:0,c:[],p:de}}function Le(){de.r||ce(de.c),de=de.p}function Y(t,e){t&&t.i&&(Fe.delete(t),t.i(e))}function X(t,e,n,l){if(t&&t.o){if(Fe.has(t))return;Fe.add(t),de.c.push(()=>{Fe.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const mt={duration:0};function $n(t,e,n){const l={direction:"in"};let s=e(t,n,l),i=!1,r,o,a=0;function c(){r&&Ze(t,r)}function d(){const{delay:p=0,duration:y=300,easing:u=Xe,tick:M=W,css:w}=s||mt;w&&(r=Ye(t,0,1,y,p,u,w,a++)),M(0,1);const j=ct()+p,m=j+y;o&&o.abort(),i=!0,me(()=>Me(t,!0,"start")),o=ut(T=>{if(i){if(T>=m)return M(1,0),Me(t,!0,"end"),c(),i=!1;if(T>=j){const h=u((T-j)/y);M(h,1-h)}}return i})}let b=!1;return{start(){b||(b=!0,Ze(t),Ue(s)?(s=s(l),pt().then(d)):d())},invalidate(){b=!1},end(){i&&(c(),i=!1)}}}function Cn(t,e,n){const l={direction:"out"};let s=e(t,n,l),i=!0,r;const o=de;o.r+=1;let a;function c(){const{delay:d=0,duration:b=300,easing:p=Xe,tick:y=W,css:u}=s||mt;u&&(r=Ye(t,1,0,b,d,p,u));const M=ct()+d,w=M+b;me(()=>Me(t,!1,"start")),"inert"in t&&(a=t.inert,t.inert=!0),ut(j=>{if(i){if(j>=w)return y(0,1),Me(t,!1,"end"),--o.r||ce(o.c),!1;if(j>=M){const m=p((j-M)/b);y(1-m,m)}}return i})}return Ue(s)?pt().then(()=>{s=s(l),c()}):c(),{end(d){d&&"inert"in t&&(t.inert=a),d&&s.tick&&s.tick(1,0),i&&(r&&Ze(t,r),i=!1)}}}function wt(t,e,n,l){let i=e(t,n,{direction:"both"}),r=l?0:1,o=null,a=null,c=null,d;function b(){c&&Ze(t,c)}function p(u,M){const w=u.b-r;return M*=Math.abs(w),{a:r,b:u.b,d:w,duration:M,start:u.start,end:u.start+M,group:u.group}}function y(u){const{delay:M=0,duration:w=300,easing:j=Xe,tick:m=W,css:T}=i||mt,h={start:ct()+M,b:u};u||(h.group=de,de.r+=1),"inert"in t&&(u?d!==void 0&&(t.inert=d):(d=t.inert,t.inert=!0)),o||a?a=h:(T&&(b(),c=Ye(t,r,u,w,M,j,T)),u&&m(0,1),o=p(h,w),me(()=>Me(t,u,"start")),ut(I=>{if(a&&I>a.start&&(o=p(a,w),a=null,Me(t,o.b,"start"),T&&(b(),c=Ye(t,r,o.b,o.duration,0,j,i.css))),o){if(I>=o.end)m(r=o.b,1-r),Me(t,o.b,"end"),a||(o.b?b():--o.group.r||ce(o.group.c)),o=null;else if(I>=o.start){const S=I-o.start;r=o.a+o.d*j(S/o.duration),m(r,1-r)}}return!!(o||a)}))}return{run(u){Ue(i)?pt().then(()=>{i=i({direction:u?"in":"out"}),y(u)}):y(u)},end(){b(),o=a=null}}}function te(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function In(t,e){X(t,1,1,()=>{e.delete(t.key)})}function An(t,e,n,l,s,i,r,o,a,c,d,b){let p=t.length,y=i.length,u=p;const M={};for(;u--;)M[t[u].key]=u;const w=[],j=new Map,m=new Map,T=[];for(u=y;u--;){const E=b(s,i,u),N=n(E);let H=r.get(N);H?T.push(()=>H.p(E,e)):(H=c(N,E),H.c()),j.set(N,w[u]=H),N in M&&m.set(N,Math.abs(u-M[N]))}const h=new Set,I=new Set;function S(E){Y(E,1),E.m(o,d),r.set(E.key,E),d=E.first,y--}for(;p&&y;){const E=w[y-1],N=t[p-1],H=E.key,B=N.key;E===N?(d=E.first,p--,y--):j.has(B)?!r.has(H)||h.has(H)?S(E):I.has(B)?p--:m.get(H)>m.get(B)?(I.add(H),S(E)):(h.add(B),p--):(a(N,r),p--)}for(;p--;){const E=t[p];j.has(E.key)||a(E,r)}for(;y;)S(w[y-1]);return ce(T),w}function Ee(t){t&&t.c()}function be(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),me(()=>{const i=t.$$.on_mount.map(Jt).filter(Ue);t.$$.on_destroy?t.$$.on_destroy.push(...i):ce(i),t.$$.on_mount=[]}),s.forEach(me)}function we(t,e){const n=t.$$;n.fragment!==null&&(Mn(n.after_update),ce(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Sn(t,e){t.$$.dirty[0]===-1&&(Se.push(t),wn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function $e(t,e,n,l,s,i,r=null,o=[-1]){const a=He;Oe(t);const c=t.$$={fragment:null,ctx:[],props:i,update:W,not_equal:s,bound:gt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:gt(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let d=!1;if(c.ctx=n?n(t,e.props||{},(b,p,...y)=>{const u=y.length?y[0]:p;return c.ctx&&s(c.ctx[b],c.ctx[b]=u)&&(!c.skip_bound&&c.bound[b]&&c.bound[b](u),d&&Sn(t,b)),p}):[],c.update(),d=!0,ce(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const b=hn(e.target);c.fragment&&c.fragment.l(b),b.forEach(O)}else c.fragment&&c.fragment.c();e.intro&&Y(t.$$.fragment),be(t,e.target,e.anchor),sn()}Oe(a)}class Ce{constructor(){et(this,"$$");et(this,"$$set")}$destroy(){we(this,1),this.$destroy=W}$on(e,n){if(!Ue(n))return W;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!fn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const En="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(En);const Ae=[];function ge(t,e=W){let n;const l=new Set;function s(o){if(ve(t,o)&&(t=o,n)){const a=!Ae.length;for(const c of l)c[1](),Ae.push(c,t);if(a){for(let c=0;c<Ae.length;c+=2)Ae[c][0](Ae[c+1]);Ae.length=0}}}function i(o){s(o(t))}function r(o,a=W){const c=[o,a];return l.add(c),l.size===1&&(n=e(s,i)||W),o(t),()=>{l.delete(c),l.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:r}}const U=20,x={EMPTY:"empty",RESIDENTIAL:"residential",COMMERCIAL:"commercial",INDUSTRIAL:"industrial",ROAD:"road",PARK:"park"},Je={[x.RESIDENTIAL]:100,[x.COMMERCIAL]:200,[x.INDUSTRIAL]:300,[x.ROAD]:10,[x.PARK]:50,[x.EMPTY]:5},zn=Array(U).fill(null).map(()=>Array(U).fill(null).map(()=>({type:x.EMPTY,population:0,level:1,hasPower:!0,hasWater:!0}))),je=ge(zn),Ve=ge(5e3),qe=ge(0),De=ge(0),st=ge(null),on=ge({residential:50,commercial:0,industrial:0}),Ge=ge([]),rn=ge([{id:1,author:{name:"Mayor",isSystem:!0},text:"Welcome to SimTwitty! Start building zones to attract denizens.",time:0}]),nt=["I'm trapped! No road out of here.","How do I get to work? The road is gone!","I can't get any deliveries. Moving out!","Is this an island? Where did the road go?","My car is useless without a street."],Tn=["The commute is killing me. Moving closer to work.","Spending 4 hours in traffic? No thanks. I'm out.","I miss my family. I spend all my time driving.","Gas prices are too high for this drive.","I need a job closer to home."],kt=["The commute to {dest} is just too far from here!","I can't believe I have to drive all the way to {dest} every day.","Why is {dest} so far away? My car is crying.","Traffic to {dest} is a nightmare. I'm moving.","I love working at {dest}, but the drive is ruinous."],Mt=["Just moved in near {dest}. Convenient!","Love being so close to {dest}.","Great location! {dest} is just a short walk away.","Finally, a short commute to {dest}.","This spot is perfect. I can see {dest} from my window."],jn=["The smog is unbearable. I can't breathe!","Moving to the countryside. This air is toxic.","My laundry turns grey when I hang it outside.","Coughing all day. I'm leaving this smog city.","It smells like burning tires here. Bye!"],Dn=["This neighborhood isn't what it used to be.","Time to move on.","Found a better place in another city.","Property values are tanking. Selling now!","Just don't like the vibe here anymore."];function ot(){const t=["Urban","City","Metro","Town","Village","Street","Road","Lane","Park","Zone"],e=["Planner","Dweller","Sim","Citizen","Neighbor","Walker","Driver","Builder","Fan","Critic"];return t[Math.floor(Math.random()*t.length)]+e[Math.floor(Math.random()*e.length)]+Math.floor(Math.random()*1e3)}function Rn(t){const e=se(De),n=se(Ge);if(t){if(t.denizen)return t.denizen;if(t.x!=null&&t.y!=null){const a=n.find(c=>c.home===ae(t.x,t.y));if(a)return a}}const l=n.filter(a=>!a.left);if(l.length>0)return l[Math.floor(Math.random()*l.length)];const s=ot();let i="Homeless",r=null,o=e;return t&&t.type===x.RESIDENTIAL&&t.x!=null?i=ae(t.x,t.y):i=ae(Math.floor(Math.random()*U),Math.floor(Math.random()*U)),{name:s,home:i,work:r,since:o,history:[{type:"move_in",time:o,home:i}],isSystem:!1}}function it(t,e,n){const l=rt(e,n);if(t===x.COMMERCIAL){const s=["Commerce Square","The Market","Shopping Center","Mall","Corner Store","Business Plaza","Trade Center","Retail Park"];return`${s[Math.floor(Math.random()*s.length)]} at ${l}`}else if(t===x.INDUSTRIAL){const s=["Industrial Park","Factory District","The Works","Manufacturing Hub","Tech Park","Warehouse Zone","Power Station","Refinery"];return`${s[Math.floor(Math.random()*s.length)]} at ${l}`}else if(t===x.RESIDENTIAL){const s=["The Apartments","Housing Block","Residences","Living Quarters","The Lofts","Condos","Villas","Estates"];return`${s[Math.floor(Math.random()*s.length)]} at ${l}`}else if(t===x.PARK){const s=["Green Park","City Garden","Recreation Area","The Commons","Nature Reserve","Playground","Central Park","Botanical Garden"];return`${s[Math.floor(Math.random()*s.length)]} at ${l}`}return`Zone at ${l}`}function $t(t,e,n){let l=999,s=null;for(const i of n){const r=Math.sqrt(Math.pow(i.x-t,2)+Math.pow(i.y-e,2));r<l&&(l=r,s=i)}return s}function ae(t,e){const n=String.fromCharCode(65+e),l=t+1;return`${n}${l}`}function rt(t,e){const n=String.fromCharCode(65+e),l=t+1,s=l%10,i=l%100;let r="th";return s==1&&i!=11&&(r="st"),s==2&&i!=12&&(r="nd"),s==3&&i!=13&&(r="rd"),`${n} St & ${l}${r}`}function Re(t,e=null,n=null){rn.update(l=>{let s=e;return s?typeof s=="string"&&(s={name:s,isSystem:!0}):s=Rn(n),[{id:Date.now()+Math.random(),author:s,text:t,time:se(De)},...l].slice(0,50)})}function Nn(){De.update(h=>h+1);const t=se(De),e=[],n=[],l=[],s=[],i=new Set,r=new Set,o=(h,I,S)=>{s.push({text:h,author:I,context:S})},a=se(je);se(qe);let c=0,d=0;a.forEach(h=>{h.forEach(I=>{I.type===x.RESIDENTIAL?c+=I.population:(I.type===x.COMMERCIAL||I.type===x.INDUSTRIAL)&&(d+=I.population)})});let b=50+(d-c),p=(c-d)*.5,y=(c-d)*.5;const u=h=>Math.max(-100,Math.min(100,h));b=u(b),p=u(p),y=u(y),on.set({residential:b,commercial:p,industrial:y});const{roadNetworkMap:M,networks:w}=Pn(a),j=Ln(a),m=d-c;let T=0;if(d>0&&m>0&&(T=Math.min(1,m/d*2)),je.update(h=>{let I=0;const S=h.map(D=>D.map(L=>({...L,traffic:0}))),E=se(Ge),N=Array(U).fill(null).map(()=>Array(U).fill(0)),H=D=>{if(!D)return null;const L=D.match(/[A-Z]+/)[0],z=parseInt(D.match(/\d+/)[0]),P=L.charCodeAt(0)-65;return{x:z-1,y:P}},B=new Map;for(const D of E)if(D.home&&D.work&&!D.left){const L=H(D.home),z=H(D.work);if(L&&z){const P=h[L.y][L.x],_=h[z.y][z.x];if(!(P.type!==x.RESIDENTIAL||_.type!==x.COMMERCIAL&&_.type!==x.INDUSTRIAL)){const A=It(L.x,L.y,h),k=It(z.x,z.y,h);if(A.length>0&&k.length>0){const $=`${L.x},${L.y}-${z.x},${z.y}`;let C=B.get($);if(C||(C=xn(A,k,h),C&&B.set($,C)),C){for(const F of C)N[F.y][F.x]+=1;r.add(D.id)}else i.add(D.id)}else i.add(D.id)}}}new Set(E.filter(D=>D.lostJob).map(D=>D.id));for(let D=0;D<U;D++)for(let L=0;L<U;L++)S[D][L].type===x.ROAD&&(S[D][L].traffic=N[D][L]);for(let D=0;D<U;D++)for(let L=0;L<U;L++){const z=S[D][L];let P=null,_=!1;const A=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];for(const{dx:k,dy:$}of A){const C=L+k,F=D+$;if(C>=0&&C<U&&F>=0&&F<U&&h[F][C].type===x.ROAD&&(_=!0,P=M[F][C],P))break}if(z.type===x.RESIDENTIAL){const k=j[D][L];if(_&&P){const $=w.get(P);let C=999;$&&$.jobTiles.length>0&&(C=Ct(L,D,$.jobTiles));const Q=C<=15;let ie=b/100;if(k>5&&(ie-=.5),k>20&&(ie-=1),C<5?ie+=.2:C>10&&(ie-=.1),Q&&ie>0){if(z.population<50*z.level&&Math.random()<ie&&(z.population+=1,e.push({x:L,y:D}),Math.random()<.05&&Q&&$&&$.jobTiles.length>0)){const Z=$t(L,D,$.jobTiles);if(Z){const he=a[Z.y][Z.x],pe=it(he.type,Z.x,Z.y),_e=Mt[Math.floor(Math.random()*Mt.length)],ee={x:L,y:D,type:z.type,jobX:Z.x,jobY:Z.y,isGrowth:!0};o(_e.replace("{dest}",pe),null,ee)}}}else if(z.population>0&&(!Q||k>20||ie<-.2)&&(z.population-=1,n.push({x:L,y:D}),Math.random()<.1)){let Z=Dn,he=null,pe=null;if(!_)Z=nt;else if(k>20)Z=jn;else if(!Q){if($&&$.jobTiles.length>0){const ee=$t(L,D,$.jobTiles);if(ee){const xe=a[ee.y][ee.x],ye=it(xe.type,ee.x,ee.y);he=kt[Math.floor(Math.random()*kt.length)].replace("{dest}",ye),pe={jobX:ee.x,jobY:ee.y}}}he||(Z=Tn)}const _e={x:L,y:D,type:z.type,isLeaving:!0,...pe};o(he||Z[Math.floor(Math.random()*Z.length)],null,_e)}}else if(z.population>0&&(z.population-=1,n.push({x:L,y:D}),Math.random()<.1)){const $={x:L,y:D,type:z.type,isLeaving:!0};o(nt[Math.floor(Math.random()*nt.length)],null,$)}I+=z.population}else if(z.type===x.COMMERCIAL)if(_&&P){const k=w.get(P);let $=999;k&&k.resTiles.length>0&&($=Ct(L,D,k.resTiles)),$<=20&&p>0?z.population<25*z.level&&Math.random()<p/100&&(z.population+=1,l.push({x:L,y:D,type:z.type})):z.population>0&&($>20||p<-20||Math.random()<T)&&(Math.random()<.05||Math.random()<T)&&(z.population-=1)}else z.population>0&&(z.population=0);else if(z.type===x.INDUSTRIAL)if(_&&P){const k=w.get(P);k&&k.resTiles.length>0&&y>0?z.population<25*z.level&&Math.random()<y/100&&(z.population+=1,l.push({x:L,y:D,type:z.type})):z.population>0&&(!k||k.resTiles.length===0||y<-20||Math.random()<T)&&(Math.random()<.05||Math.random()<T)&&(z.population-=1)}else z.population>0&&(z.population=0)}return qe.set(I),S}),Ge.update(h=>{let I=[...h];const S=se(je),E=new Map;for(const _ of I)_.work&&!_.left&&E.set(_.work,(E.get(_.work)||0)+1);const N=[];for(let _=0;_<U;_++)for(let A=0;A<U;A++){const k=S[_][A];if(k.type===x.COMMERCIAL||k.type===x.INDUSTRIAL){const $=ae(A,_),C=E.get($)||0,F=k.population-C;for(let Q=0;Q<F;Q++)N.push({x:A,y:_,type:k.type,addr:$})}}for(let _=N.length-1;_>0;_--){const A=Math.floor(Math.random()*(_+1));[N[_],N[A]]=[N[A],N[_]]}for(let _=0;_<I.length;_++){const A=I[_];r.has(A.id)?A.daysMissed=0:i.has(A.id)&&(A.daysMissed,A.daysMissed=(A.daysMissed||0)+1,A.daysMissed>=7?(A.work&&o("Fired for not showing up!",A,{x:-1,y:-1}),A.work=null,A.daysMissed=0,A.history.push({type:"fired",time:t}),I[_]={...A}):I[_]={...A})}const H=[],B=[],D=[];let L=[...n],z=[...e];for(;L.length>0&&z.length>0;){const _=L.shift(),A=z.shift();H.push({from:_,to:A})}B.push(...L),D.push(...z);for(const _ of H){const A=ae(_.from.x,_.from.y),k=ae(_.to.x,_.to.y),$=I.findIndex(C=>C.home===A&&!C.left);if($!==-1){const C={...I[$]};if(C.history=[...C.history||[],{type:"move",time:t,from:A,to:k}],C.home=k,!C.work&&N.length>0){const F=N.shift();C.work=F.addr,C.history.push({type:"new_job",time:t,work:C.work})}if(I[$]=C,Math.random()<.1){const F={x:_.to.x,y:_.to.y,isGrowth:!0};o(`Moved from ${A} to ${k}. Fresh start!`,C,F)}}else B.push(_.from),D.push(_.to)}if(N.length>0)for(let _=0;_<I.length&&N.length!==0;_++){const A=I[_];if(!A.left&&!A.work){const k=N.shift(),$=k.addr,C={...A};if(C.work=$,C.history=[...A.history||[],{type:"new_job",time:t,work:$}],I[_]=C,Math.random()<.3){const F=[`Finally got a job at ${$}!`,`Hired! Starting work at ${$}.`,`Off to work at ${$}. So happy!`,`Unemployment over. Hello ${$}.`],Q=F[Math.floor(Math.random()*F.length)];o(Q,C,{x:k.x,y:k.y,type:k.type})}}}for(const _ of B){const A=ae(_.x,_.y),k=I.findIndex($=>$.home===A&&!$.left);if(k!==-1){const $={...I[k]};$.left=t,$.history=[...$.history||[],{type:"left_city",time:t}];for(const C of s)C.context&&C.context.isLeaving&&C.context.x===_.x&&C.context.y===_.y&&(C.author||(C.author=$));I[k]=$}}const P=[];for(const _ of D){const A=ae(_.x,_.y);let k=null;N.length>0&&(k=N.shift().addr);const $={id:ot()+Math.random(),name:ot(),home:A,work:k,since:t,history:[{type:"move_in",time:t,home:A}],isSystem:!1};P.push($),I.push($)}for(const _ of s){let A=_.author;if(!A&&_.context){if(_.context.isGrowth){let k=P.find($=>$.home===ae(_.context.x,_.context.y));if(!k){const $=ae(_.context.x,_.context.y);k=I.find(C=>C.home===$&&!C.left)}k&&(A=k)}else if(!_.context.isLeaving){if(_.context.x!=null){const k=I.find($=>$.home===ae(_.context.x,_.context.y)&&!$.left);k&&(A=k)}}}Re(_.text,A,_.context)}return I}),e.length>0&&Math.random()<.05){const h=["Moving in today! So excited.","Boxes unpacked. Hello city!","Just got the keys to my new place.","New in town, looking for recommendations.","Wow, this city is growing fast!"],I=se(Ge).filter(S=>S.since===t);if(I.length>0){const S=I[Math.floor(Math.random()*I.length)];Re(h[Math.floor(Math.random()*h.length)],S)}}if(Math.random()<.01){const h=["I love the smell of industry in the morning.","We need more parks!","Traffic is getting bad.","Is there a coffee shop nearby?","The mayor is doing a great job... I think.","Why is the power always out? Oh wait, it works."];Re(h[Math.floor(Math.random()*h.length)])}se(De)%5===0&&Ve.update(h=>h+Math.floor(se(qe)*.5))}function Ct(t,e,n){let l=999;for(const s of n){const i=Math.sqrt(Math.pow(s.x-t,2)+Math.pow(s.y-e,2));i<l&&(l=i)}return l}function Ln(t){const e=Array(U).fill(null).map(()=>Array(U).fill(0)),n=[];for(let l=0;l<U;l++)for(let s=0;s<U;s++)t[l][s].type===x.INDUSTRIAL&&n.push({x:s,y:l,intensity:10+t[l][s].population});if(n.length>0)for(let l=0;l<U;l++)for(let s=0;s<U;s++){let i=0;for(const r of n){const o=Math.sqrt(Math.pow(r.x-s,2)+Math.pow(r.y-l,2));o<8&&(i+=r.intensity/(o+1))}e[l][s]=i}return e}function It(t,e,n){const l=[],s=[{dx:0,dy:0},{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];for(const{dx:i,dy:r}of s){const o=t+i,a=e+r;o>=0&&o<U&&a>=0&&a<U&&n[a][o].type===x.ROAD&&l.push({x:o,y:a})}return l}function xn(t,e,n){if(!t||t.length===0||!e||e.length===0)return null;const l=new Set(e.map(r=>`${r.x},${r.y}`)),s=t.map(r=>({x:r.x,y:r.y,path:[{x:r.x,y:r.y}]})),i=new Set(t.map(r=>`${r.x},${r.y}`));for(;s.length>0;){const{x:r,y:o,path:a}=s.shift();if(l.has(`${r},${o}`))return a;const c=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];for(const{dx:d,dy:b}of c){const p=r+d,y=o+b;p>=0&&p<U&&y>=0&&y<U&&!i.has(`${p},${y}`)&&n[y][p].type===x.ROAD&&(i.add(`${p},${y}`),s.push({x:p,y,path:[...a,{x:p,y}]}))}}return null}function Pn(t){const e=new Map,n=Array(U).fill(null).map(()=>Array(U).fill(0));let l=1;const s=new Set;for(let i=0;i<U;i++)for(let r=0;r<U;r++)if(t[i][r].type===x.ROAD&&!s.has(`${r},${i}`)){const o=l++;e.set(o,{jobTiles:[],resTiles:[],roadCount:0});const a=[{x:r,y:i}];for(s.add(`${r},${i}`),n[i][r]=o,e.get(o).roadCount++;a.length>0;){const{x:c,y:d}=a.shift();[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}].forEach(({dx:p,dy:y})=>{const u=c+p,M=d+y;if(u>=0&&u<U&&M>=0&&M<U){const w=t[M][u];if(w.type===x.ROAD)s.has(`${u},${M}`)||(s.add(`${u},${M}`),n[M][u]=o,e.get(o).roadCount++,a.push({x:u,y:M}));else{const j=e.get(o);w.type===x.RESIDENTIAL?j.resTiles.some(m=>m.x===u&&m.y===M)||j.resTiles.push({x:u,y:M}):(w.type===x.COMMERCIAL||w.type===x.INDUSTRIAL)&&(j.jobTiles.some(m=>m.x===u&&m.y===M)||j.jobTiles.push({x:u,y:M}))}}})}}return{roadNetworkMap:n,networks:e}}function On(t,e,n){const l=se(Ve),s=Je[n];if(l>=s){const r=se(je)[e][t];if(r.type===x.ROAD&&n!==x.ROAD){if(Math.random()<.7){const o=rt(t,e),a=[`@Mayor Hey! I used the road at ${o} to get to work!`,`@Mayor My commute just got ruined by work at ${o}.`,`@Mayor Why are we destroying infrastructure at ${o}?`,`@Mayor Now I have to take the long way around ${o}.`,`@Mayor Bulldozers at ${o} woke me up!`];Re(a[Math.floor(Math.random()*a.length)])}}else if(r.type!==n&&n!==x.EMPTY&&n!==x.ROAD&&Math.random()<.4){const o=rt(t,e),a=it(n,t,e);let c=[];n===x.RESIDENTIAL?c=[`New housing coming to ${o}. Nice!`,`Looks like they are building ${a}.`,`More neighbors at ${o}. Hope they are quiet.`,`Finally developing the lot at ${o}.`]:n===x.COMMERCIAL?c=[`Ooh, a new shop opening at ${o}?`,`I heard ${a} is being built.`,`Traffic is going to be bad at ${o} with all the shoppers.`,`Can't wait to visit ${a}!`]:n===x.INDUSTRIAL?c=[`Ugh, they are building a factory at ${o}.`,`There goes the neighborhood. ${a} is huge.`,`More jobs at ${o}, but at what cost?`,`I hope ${a} doesn't smell bad.`]:n===x.PARK&&(c=[`Yay! A new park at ${o}.`,`Love that they preserved green space at ${o}.`,`Going to take my dog to ${a}.`,`Picnic time at ${o}!`]),c.length>0&&Re(c[Math.floor(Math.random()*c.length)])}Ve.update(o=>o-s),je.update(o=>{const a=[...o];return a[e][t]={...a[e][t],type:n,population:0,level:1},a})}}function At(t,e,n){const l=t.slice();return l[10]=e[n],l}function qn(t){let e,n,l,s,i,r,o,a,c=t[1].length+"",d,b,p,y,u=t[1].filter(Et).length+"",M,w,j,m,T=t[1].filter(zt).length+"",h,I,S,E,N,H,B,D,L,z=te(t[3]),P=[];for(let _=0;_<z.length;_+=1)P[_]=St(At(t,z,_));return{c(){e=v("section"),n=v("h3"),n.textContent="Denizen Debugger",l=R(),s=v("input"),i=R(),r=v("div"),o=v("span"),a=G("Total: "),d=G(c),b=R(),p=v("span"),y=G("Active: "),M=G(u),w=R(),j=v("span"),m=G("Employed: "),h=G(T),I=R(),S=v("div"),E=v("table"),N=v("thead"),N.innerHTML='<tr><th class="svelte-1av673s">Name</th> <th class="svelte-1av673s">Home</th> <th class="svelte-1av673s">Work</th> <th class="svelte-1av673s">Status</th></tr>',H=R(),B=v("tbody");for(let _=0;_<P.length;_+=1)P[_].c();g(n,"class","svelte-1av673s"),g(s,"type","text"),g(s,"placeholder","Search name, home, work..."),g(s,"class","search-input svelte-1av673s"),g(r,"class","stats-row svelte-1av673s"),g(E,"class","svelte-1av673s"),g(S,"class","table-container svelte-1av673s"),g(e,"class","debug-section svelte-1av673s")},m(_,A){q(_,e,A),f(e,n),f(e,l),f(e,s),We(s,t[0]),f(e,i),f(e,r),f(r,o),f(o,a),f(o,d),f(r,b),f(r,p),f(p,y),f(p,M),f(r,w),f(r,j),f(j,m),f(j,h),f(e,I),f(e,S),f(S,E),f(E,N),f(E,H),f(E,B);for(let k=0;k<P.length;k+=1)P[k]&&P[k].m(B,null);D||(L=ne(s,"input",t[8]),D=!0)},p(_,A){if(A&1&&s.value!==_[0]&&We(s,_[0]),A&2&&c!==(c=_[1].length+"")&&K(d,c),A&2&&u!==(u=_[1].filter(Et).length+"")&&K(M,u),A&2&&T!==(T=_[1].filter(zt).length+"")&&K(h,T),A&8){z=te(_[3]);let k;for(k=0;k<z.length;k+=1){const $=At(_,z,k);P[k]?P[k].p($,A):(P[k]=St($),P[k].c(),P[k].m(B,null))}for(;k<P.length;k+=1)P[k].d(1);P.length=z.length}},d(_){_&&O(e),ke(P,_),D=!1,L()}}}function Gn(t){let e,n,l;return{c(){e=v("section"),e.innerHTML='<h3 class="svelte-1av673s">Zones</h3> <div class="legend-item svelte-1av673s"><div class="swatch res svelte-1av673s"></div> <div class="desc svelte-1av673s"><strong class="svelte-1av673s">Residential (Green)</strong> <p class="svelte-1av673s">Where people live. Darkens as population grows.</p></div></div> <div class="legend-item svelte-1av673s"><div class="swatch com svelte-1av673s"></div> <div class="desc svelte-1av673s"><strong class="svelte-1av673s">Commercial (Blue)</strong> <p class="svelte-1av673s">Shops and offices. Needs people and goods.</p></div></div> <div class="legend-item svelte-1av673s"><div class="swatch ind svelte-1av673s"></div> <div class="desc svelte-1av673s"><strong class="svelte-1av673s">Industrial (Yellow)</strong> <p class="svelte-1av673s">Factories. Creates jobs and goods.</p></div></div> <div class="legend-item svelte-1av673s"><div class="swatch park svelte-1av673s"></div> <div class="desc svelte-1av673s"><strong class="svelte-1av673s">Park (Dark Green)</strong> <p class="svelte-1av673s">Increases happiness of nearby residents.</p></div></div>',n=R(),l=v("section"),l.innerHTML='<h3 class="svelte-1av673s">Traffic Indicators</h3> <p class="section-desc svelte-1av673s">Moving dots on roads indicate traffic flow.</p> <div class="legend-item svelte-1av673s"><div class="traffic-swatch svelte-1av673s"><div class="dot green svelte-1av673s"></div></div> <div class="desc svelte-1av673s"><strong class="svelte-1av673s">Green Dot</strong> <p class="svelte-1av673s">Light traffic. Free flowing.</p></div></div> <div class="legend-item svelte-1av673s"><div class="traffic-swatch svelte-1av673s"><div class="dot amber svelte-1av673s"></div></div> <div class="desc svelte-1av673s"><strong class="svelte-1av673s">Amber Dot</strong> <p class="svelte-1av673s">Moderate traffic.</p></div></div> <div class="legend-item svelte-1av673s"><div class="traffic-swatch svelte-1av673s"><div class="dot red svelte-1av673s"></div></div> <div class="desc svelte-1av673s"><strong class="svelte-1av673s">Red Dot</strong> <p class="svelte-1av673s">Heavy traffic. Congestion may slow growth.</p></div></div>'},m(s,i){q(s,e,i),q(s,n,i),q(s,l,i)},p:W,d(s){s&&(O(e),O(n),O(l))}}}function St(t){let e,n,l=t[10].name+"",s,i,r,o=t[10].home+"",a,c,d,b=(t[10].work||"-")+"",p,y,u,M=t[10].left?"Left":"Active",w,j;return{c(){e=v("tr"),n=v("td"),s=G(l),i=R(),r=v("td"),a=G(o),c=R(),d=v("td"),p=G(b),y=R(),u=v("td"),w=G(M),j=R(),g(n,"class","svelte-1av673s"),g(r,"class","svelte-1av673s"),g(d,"class","svelte-1av673s"),g(u,"class","svelte-1av673s"),g(e,"class","svelte-1av673s"),ue(e,"left",t[10].left)},m(m,T){q(m,e,T),f(e,n),f(n,s),f(e,i),f(e,r),f(r,a),f(e,c),f(e,d),f(d,p),f(e,y),f(e,u),f(u,w),f(e,j)},p(m,T){T&8&&l!==(l=m[10].name+"")&&K(s,l),T&8&&o!==(o=m[10].home+"")&&K(a,o),T&8&&b!==(b=(m[10].work||"-")+"")&&K(p,b),T&8&&M!==(M=m[10].left?"Left":"Active")&&K(w,M),T&8&&ue(e,"left",m[10].left)},d(m){m&&O(e)}}}function Hn(t){let e,n,l,s,i,r,o,a,c,d,b,p,y;function u(j,m){return j[2]?qn:Gn}let M=u(t),w=M(t);return{c(){e=v("div"),n=v("div"),l=v("button"),l.textContent="×",s=R(),i=v("h2"),i.textContent="Legend & Help",r=R(),o=v("div"),a=v("button"),a.textContent="Legend",c=R(),d=v("button"),d.textContent="Debug Tools",b=R(),w.c(),g(l,"class","close-btn svelte-1av673s"),g(i,"class","svelte-1av673s"),g(a,"class","svelte-1av673s"),ue(a,"active",!t[2]),g(d,"class","svelte-1av673s"),ue(d,"active",t[2]),g(o,"class","tabs svelte-1av673s"),g(n,"class","modal-content svelte-1av673s"),g(e,"class","modal-backdrop svelte-1av673s")},m(j,m){q(j,e,m),f(e,n),f(n,l),f(n,s),f(n,i),f(n,r),f(n,o),f(o,a),f(o,c),f(o,d),f(n,b),w.m(n,null),p||(y=[ne(l,"click",t[4]),ne(a,"click",t[6]),ne(d,"click",t[7]),ne(n,"click",tn(t[5])),ne(e,"click",t[4])],p=!0)},p(j,[m]){m&4&&ue(a,"active",!j[2]),m&4&&ue(d,"active",j[2]),M===(M=u(j))&&w?w.p(j,m):(w.d(1),w=M(j),w&&(w.c(),w.m(n,null)))},i:W,o:W,d(j){j&&O(e),w.d(),p=!1,ce(y)}}}const Et=t=>!t.left,zt=t=>!t.left&&t.work;function Un(t,e,n){let l,s;fe(t,Ge,y=>n(1,s=y));const i=yn();let r=!1,o="";function a(){i("close")}function c(y){ln.call(this,t,y)}const d=()=>n(2,r=!1),b=()=>n(2,r=!0);function p(){o=this.value,n(0,o)}return t.$$.update=()=>{t.$$.dirty&3&&n(3,l=s.filter(y=>{if(!o)return!0;const u=o.toLowerCase();return y.name.toLowerCase().includes(u)||y.home.toLowerCase().includes(u)||y.work&&y.work.toLowerCase().includes(u)}))},[o,s,r,l,a,c,d,b,p]}class Fn extends Ce{constructor(e){super(),$e(this,e,Un,Hn,ve,{})}}function Tt(t){let e,n;return e=new Fn({}),e.$on("close",t[6]),{c(){Ee(e.$$.fragment)},m(l,s){be(e,l,s),n=!0},p:W,i(l){n||(Y(e.$$.fragment,l),n=!0)},o(l){X(e.$$.fragment,l),n=!1},d(l){we(e,l)}}}function Wn(t){let e,n,l,s,i,r,o,a,c,d,b,p,y,u,M,w,j,m,T,h,I,S,E,N,H,B,D,L,z,P,_,A,k,$,C,F,Q,ie,Z,he,pe,_e,ee,xe,ye,re,Qe,vt,V=t[0]&&Tt(t);return{c(){e=v("header"),n=v("div"),l=v("span"),l.textContent="Money",s=R(),i=v("span"),r=G("$"),o=G(t[1]),a=R(),c=v("div"),d=v("span"),d.textContent="Population",b=R(),p=v("span"),y=G(t[2]),u=R(),M=v("div"),w=v("span"),w.textContent="Time",j=R(),m=v("span"),T=G(t[3]),h=R(),I=v("div"),S=v("div"),S.textContent="RCI",E=R(),N=v("div"),H=v("div"),B=v("div"),D=v("div"),L=R(),z=v("span"),z.textContent="R",P=R(),_=v("div"),A=v("div"),k=v("div"),$=R(),C=v("span"),C.textContent="C",F=R(),Q=v("div"),ie=v("div"),Z=v("div"),he=R(),pe=v("span"),pe.textContent="I",_e=R(),ee=v("button"),ee.textContent="?",xe=R(),V&&V.c(),ye=dt(),g(l,"class","label svelte-1ylazd0"),g(i,"class","value svelte-1ylazd0"),g(n,"class","stat svelte-1ylazd0"),g(d,"class","label svelte-1ylazd0"),g(p,"class","value svelte-1ylazd0"),g(c,"class","stat svelte-1ylazd0"),g(w,"class","label svelte-1ylazd0"),g(m,"class","value svelte-1ylazd0"),g(M,"class","stat svelte-1ylazd0"),g(S,"class","rci-label svelte-1ylazd0"),g(D,"class","bar res svelte-1ylazd0"),oe(D,"height",Math.max(5,Math.min(100,t[4].residential))+"%"),g(B,"class","bar-track svelte-1ylazd0"),g(z,"class","bar-label svelte-1ylazd0"),g(H,"class","bar-group svelte-1ylazd0"),g(k,"class","bar com svelte-1ylazd0"),oe(k,"height",Math.max(5,Math.min(100,t[4].commercial))+"%"),g(A,"class","bar-track svelte-1ylazd0"),g(C,"class","bar-label svelte-1ylazd0"),g(_,"class","bar-group svelte-1ylazd0"),g(Z,"class","bar ind svelte-1ylazd0"),oe(Z,"height",Math.max(5,Math.min(100,t[4].industrial))+"%"),g(ie,"class","bar-track svelte-1ylazd0"),g(pe,"class","bar-label svelte-1ylazd0"),g(Q,"class","bar-group svelte-1ylazd0"),g(N,"class","bars svelte-1ylazd0"),g(I,"class","rci-container svelte-1ylazd0"),g(ee,"class","help-btn svelte-1ylazd0"),g(ee,"title","Legend & Help"),g(e,"class","svelte-1ylazd0")},m(J,le){q(J,e,le),f(e,n),f(n,l),f(n,s),f(n,i),f(i,r),f(i,o),f(e,a),f(e,c),f(c,d),f(c,b),f(c,p),f(p,y),f(e,u),f(e,M),f(M,w),f(M,j),f(M,m),f(m,T),f(e,h),f(e,I),f(I,S),f(I,E),f(I,N),f(N,H),f(H,B),f(B,D),f(H,L),f(H,z),f(N,P),f(N,_),f(_,A),f(A,k),f(_,$),f(_,C),f(N,F),f(N,Q),f(Q,ie),f(ie,Z),f(Q,he),f(Q,pe),f(e,_e),f(e,ee),q(J,xe,le),V&&V.m(J,le),q(J,ye,le),re=!0,Qe||(vt=ne(ee,"click",t[5]),Qe=!0)},p(J,[le]){(!re||le&2)&&K(o,J[1]),(!re||le&4)&&K(y,J[2]),(!re||le&8)&&K(T,J[3]),(!re||le&16)&&oe(D,"height",Math.max(5,Math.min(100,J[4].residential))+"%"),(!re||le&16)&&oe(k,"height",Math.max(5,Math.min(100,J[4].commercial))+"%"),(!re||le&16)&&oe(Z,"height",Math.max(5,Math.min(100,J[4].industrial))+"%"),J[0]?V?(V.p(J,le),le&1&&Y(V,1)):(V=Tt(J),V.c(),Y(V,1),V.m(ye.parentNode,ye)):V&&(Ne(),X(V,1,1,()=>{V=null}),Le())},i(J){re||(Y(V),re=!0)},o(J){X(V),re=!1},d(J){J&&(O(e),O(xe),O(ye)),V&&V.d(J),Qe=!1,vt()}}}function Bn(t,e,n){let l,s,i,r;fe(t,Ve,d=>n(1,l=d)),fe(t,qe,d=>n(2,s=d)),fe(t,De,d=>n(3,i=d)),fe(t,on,d=>n(4,r=d));let o=!1;return[o,l,s,i,r,()=>n(0,o=!0),()=>n(0,o=!1)]}class Kn extends Ce{constructor(e){super(),$e(this,e,Bn,Wn,ve,{})}}function jt(t,e,n){const l=t.slice();return l[3]=e[n],l}function Yn(t){let e;return{c(){e=v("span"),e.textContent=`$${Je[t[3].id]}`,g(e,"class","cost svelte-omakiu")},m(n,l){q(n,e,l)},p:W,d(n){n&&O(e)}}}function Dt(t){let e,n,l,s,i,r,o=Je[t[3].id]&&Yn(t);function a(){return t[2](t[3])}return{c(){e=v("button"),n=v("span"),n.textContent=`${t[3].label}`,l=R(),o&&o.c(),s=R(),g(n,"class","label svelte-omakiu"),oe(e,"--color",t[3].color),g(e,"class","svelte-omakiu"),ue(e,"active",t[0]===t[3].id)},m(c,d){q(c,e,d),f(e,n),f(e,l),o&&o.m(e,null),f(e,s),i||(r=ne(e,"click",a),i=!0)},p(c,d){t=c,Je[t[3].id]&&o.p(t,d),d&3&&ue(e,"active",t[0]===t[3].id)},d(c){c&&O(e),o&&o.d(),i=!1,r()}}}function Zn(t){let e,n=te(t[1]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Dt(jt(t,n,s));return{c(){e=v("div");for(let s=0;s<l.length;s+=1)l[s].c();g(e,"class","toolbar svelte-omakiu")},m(s,i){q(s,e,i);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(s,[i]){if(i&3){n=te(s[1]);let r;for(r=0;r<n.length;r+=1){const o=jt(s,n,r);l[r]?l[r].p(o,i):(l[r]=Dt(o),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},i:W,o:W,d(s){s&&O(e),ke(l,s)}}}function Jn(t,e,n){let l;fe(t,st,r=>n(0,l=r));const s=[{id:x.RESIDENTIAL,label:"Res",color:"#4ade80"},{id:x.COMMERCIAL,label:"Com",color:"#60a5fa"},{id:x.INDUSTRIAL,label:"Ind",color:"#facc15"},{id:x.ROAD,label:"Road",color:"#4b5563"},{id:x.PARK,label:"Park",color:"#15803d"},{id:x.EMPTY,label:"Bulldoze",color:"#ef4444"}];return[l,s,r=>st.set(r.id)]}class Vn extends Ce{constructor(e){super(),$e(this,e,Jn,Zn,ve,{})}}function Xn(t){let e;function n(i,r){return i[0].traffic>0?tl:el}let l=n(t),s=l(t);return{c(){s.c(),e=dt()},m(i,r){s.m(i,r),q(i,e,r)},p(i,r){l===(l=n(i))&&s?s.p(i,r):(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&O(e),s.d(i)}}}function Qn(t){let e,n=t[0].population+"",l;return{c(){e=v("span"),l=G(n),g(e,"class","pop svelte-194cfaq")},m(s,i){q(s,e,i),f(e,l)},p(s,i){i&1&&n!==(n=s[0].population+"")&&K(l,n)},d(s){s&&O(e)}}}function el(t){let e;return{c(){e=v("span"),e.textContent="•",g(e,"class","road-mark svelte-194cfaq")},m(n,l){q(n,e,l)},p:W,d(n){n&&O(e)}}}function tl(t){let e,n;return{c(){e=v("div"),n=v("div"),g(n,"class","car svelte-194cfaq"),oe(n,"background-color",Rt(t[0].traffic)),g(e,"class","traffic-container svelte-194cfaq"),oe(e,"animation-duration",3/(1+t[0].traffic*.1)+"s")},m(l,s){q(l,e,s),f(e,n)},p(l,s){s&1&&oe(n,"background-color",Rt(l[0].traffic)),s&1&&oe(e,"animation-duration",3/(1+l[0].traffic*.1)+"s")},d(l){l&&O(e)}}}function nl(t){let e,n,l;function s(o,a){if(o[0].population>0)return Qn;if(o[0].type==="road")return Xn}let i=s(t),r=i&&i(t);return{c(){e=v("div"),r&&r.c(),g(e,"class","tile svelte-194cfaq"),oe(e,"background-color",t[1]),g(e,"role","button")},m(o,a){q(o,e,a),r&&r.m(e,null),n||(l=ne(e,"click",t[2]),n=!0)},p(o,[a]){i===(i=s(o))&&r?r.p(o,a):(r&&r.d(1),r=i&&i(o),r&&(r.c(),r.m(e,null))),a&2&&oe(e,"background-color",o[1])},i:W,o:W,d(o){o&&O(e),r&&r.d(),n=!1,l()}}}function ll(t,e){let n;switch(t){case"residential":n=[74,222,128];break;case"commercial":n=[96,165,250];break;case"industrial":n=[250,204,21];break;case"road":return"#4b5563";case"park":return"#14532d";default:return"#f3f4f6"}const i=1-Math.min(1,e/(t==="residential"?50:25))*.4;return`rgb(${Math.floor(n[0]*i)}, ${Math.floor(n[1]*i)}, ${Math.floor(n[2]*i)})`}function Rt(t){return t>5?"#ef4444":t>2?"#fbbf24":"#4ade80"}function sl(t,e,n){let l,s;fe(t,st,c=>n(5,s=c));let{x:i}=e,{y:r}=e,{tile:o}=e;function a(){On(i,r,s)}return t.$$set=c=>{"x"in c&&n(3,i=c.x),"y"in c&&n(4,r=c.y),"tile"in c&&n(0,o=c.tile)},t.$$.update=()=>{t.$$.dirty&1&&n(1,l=ll(o.type,o.population))},[o,l,a,i,r]}class ol extends Ce{constructor(e){super(),$e(this,e,sl,nl,ve,{x:3,y:4,tile:0})}}function Nt(t,e,n){const l=t.slice();return l[3]=e[n],l[5]=n,l}function Lt(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function xt(t,e,n){const l=t.slice();return l[3]=e[n],l}function Pt(t,e,n){const l=t.slice();return l[11]=e[n],l}function Ot(t){let e;return{c(){e=v("div"),e.textContent=`${t[11]}`,g(e,"class","col-label svelte-1sqmj97")},m(n,l){q(n,e,l)},p:W,d(n){n&&O(e)}}}function qt(t){let e;return{c(){e=v("div"),e.textContent=`${t[3]}`,g(e,"class","row-label svelte-1sqmj97")},m(n,l){q(n,e,l)},p:W,d(n){n&&O(e)}}}function Gt(t){let e,n;return e=new ol({props:{x:t[8],y:t[5],tile:t[6]}}),{c(){Ee(e.$$.fragment)},m(l,s){be(e,l,s),n=!0},p(l,s){const i={};s&1&&(i.tile=l[6]),e.$set(i)},i(l){n||(Y(e.$$.fragment,l),n=!0)},o(l){X(e.$$.fragment,l),n=!1},d(l){we(e,l)}}}function Ht(t){let e,n,l,s=te(t[3]),i=[];for(let o=0;o<s.length;o+=1)i[o]=Gt(Lt(t,s,o));const r=o=>X(i[o],1,1,()=>{i[o]=null});return{c(){e=v("div");for(let o=0;o<i.length;o+=1)i[o].c();n=R(),g(e,"class","row svelte-1sqmj97")},m(o,a){q(o,e,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);f(e,n),l=!0},p(o,a){if(a&1){s=te(o[3]);let c;for(c=0;c<s.length;c+=1){const d=Lt(o,s,c);i[c]?(i[c].p(d,a),Y(i[c],1)):(i[c]=Gt(d),i[c].c(),Y(i[c],1),i[c].m(e,n))}for(Ne(),c=s.length;c<i.length;c+=1)r(c);Le()}},i(o){if(!l){for(let a=0;a<s.length;a+=1)Y(i[a]);l=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)X(i[a]);l=!1},d(o){o&&O(e),ke(i,o)}}}function il(t){let e,n,l,s,i,r,o,a,c,d,b=te(t[1]),p=[];for(let m=0;m<b.length;m+=1)p[m]=Ot(Pt(t,b,m));let y=te(t[2]),u=[];for(let m=0;m<y.length;m+=1)u[m]=qt(xt(t,y,m));let M=te(t[0]),w=[];for(let m=0;m<M.length;m+=1)w[m]=Ht(Nt(t,M,m));const j=m=>X(w[m],1,1,()=>{w[m]=null});return{c(){e=v("div"),n=v("div"),l=v("div"),s=R();for(let m=0;m<p.length;m+=1)p[m].c();i=R(),r=v("div"),o=v("div");for(let m=0;m<u.length;m+=1)u[m].c();a=R(),c=v("div");for(let m=0;m<w.length;m+=1)w[m].c();g(l,"class","corner svelte-1sqmj97"),g(n,"class","header-row svelte-1sqmj97"),g(o,"class","row-labels svelte-1sqmj97"),g(c,"class","grid-container svelte-1sqmj97"),g(r,"class","main-area svelte-1sqmj97"),g(e,"class","layout svelte-1sqmj97")},m(m,T){q(m,e,T),f(e,n),f(n,l),f(n,s);for(let h=0;h<p.length;h+=1)p[h]&&p[h].m(n,null);f(e,i),f(e,r),f(r,o);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(o,null);f(r,a),f(r,c);for(let h=0;h<w.length;h+=1)w[h]&&w[h].m(c,null);d=!0},p(m,[T]){if(T&2){b=te(m[1]);let h;for(h=0;h<b.length;h+=1){const I=Pt(m,b,h);p[h]?p[h].p(I,T):(p[h]=Ot(I),p[h].c(),p[h].m(n,null))}for(;h<p.length;h+=1)p[h].d(1);p.length=b.length}if(T&4){y=te(m[2]);let h;for(h=0;h<y.length;h+=1){const I=xt(m,y,h);u[h]?u[h].p(I,T):(u[h]=qt(I),u[h].c(),u[h].m(o,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=y.length}if(T&1){M=te(m[0]);let h;for(h=0;h<M.length;h+=1){const I=Nt(m,M,h);w[h]?(w[h].p(I,T),Y(w[h],1)):(w[h]=Ht(I),w[h].c(),Y(w[h],1),w[h].m(c,null))}for(Ne(),h=M.length;h<w.length;h+=1)j(h);Le()}},i(m){if(!d){for(let T=0;T<M.length;T+=1)Y(w[T]);d=!0}},o(m){w=w.filter(Boolean);for(let T=0;T<w.length;T+=1)X(w[T]);d=!1},d(m){m&&O(e),ke(p,m),ke(u,m),ke(w,m)}}}function rl(t,e,n){let l;fe(t,je,r=>n(0,l=r));const s=Array.from({length:20},(r,o)=>o+1),i=Array.from({length:20},(r,o)=>String.fromCharCode(65+o));return[l,s,i]}class al extends Ce{constructor(e){super(),$e(this,e,rl,il,ve,{})}}function cl(t){const e=t-1;return e*e*e+1}function at(t,{delay:e=0,duration:n=400,easing:l=Xe}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:i=>`opacity: ${i*s}`}}function fl(t,{delay:e=0,duration:n=400,easing:l=cl,x:s=0,y:i=0,opacity:r=0}={}){const o=getComputedStyle(t),a=+o.opacity,c=o.transform==="none"?"":o.transform,d=a*(1-r),[b,p]=_t(s),[y,u]=_t(i);return{delay:e,duration:n,easing:l,css:(M,w)=>`
			transform: ${c} translate(${(1-M)*b}${p}, ${(1-M)*y}${u});
			opacity: ${a-d*w}`}}function Ut(t,e,n){const l=t.slice();return l[11]=e[n],l}function Ft(t,e,n){const l=t.slice();return l[14]=e[n],l}function ul(t){let e;return{c(){e=v("div"),e.innerHTML="<p>No one lives here yet...</p>",g(e,"class","empty-state svelte-16hjb2z")},m(n,l){q(n,e,l)},p:W,i:W,o:W,d(n){n&&O(e)}}}function dl(t){let e=[],n=new Map,l,s,i=te(t[3]);const r=o=>o[14].id;for(let o=0;o<i.length;o+=1){let a=Ft(t,i,o),c=r(a);n.set(c,e[o]=Wt(c,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=dt()},m(o,a){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(o,a);q(o,l,a),s=!0},p(o,a){a&72&&(i=te(o[3]),Ne(),e=An(e,a,r,1,o,i,n,l.parentNode,In,Wt,l,Ft),Le())},i(o){if(!s){for(let a=0;a<i.length;a+=1)Y(e[a]);s=!0}},o(o){for(let a=0;a<e.length;a+=1)X(e[a]);s=!1},d(o){o&&O(l);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function Wt(t,e){let n,l,s,i=e[14].author.name+"",r,o,a,c=e[14].text+"",d,b,p,y=e[14].time+"",u,M,w,j,m,T,h;function I(){return e[10](e[14])}return{key:t,first:null,c(){n=v("div"),l=v("div"),s=G("@"),r=G(i),o=R(),a=v("div"),d=G(c),b=R(),p=v("div"),u=G(y),M=R(),g(l,"class","author svelte-16hjb2z"),ue(l,"clickable",!e[14].author.isSystem),g(a,"class","content svelte-16hjb2z"),g(p,"class","time svelte-16hjb2z"),g(n,"class","tweet svelte-16hjb2z"),this.first=n},m(S,E){q(S,n,E),f(n,l),f(l,s),f(l,r),f(n,o),f(n,a),f(a,d),f(n,b),f(n,p),f(p,u),f(n,M),m=!0,T||(h=ne(l,"click",I),T=!0)},p(S,E){e=S,(!m||E&8)&&i!==(i=e[14].author.name+"")&&K(r,i),(!m||E&8)&&ue(l,"clickable",!e[14].author.isSystem),(!m||E&8)&&c!==(c=e[14].text+"")&&K(d,c),(!m||E&8)&&y!==(y=e[14].time+"")&&K(u,y)},i(S){m||(S&&me(()=>{m&&(j&&j.end(1),w=$n(n,fl,{y:20,duration:300}),w.start())}),m=!0)},o(S){w&&w.invalidate(),S&&(j=Cn(n,at,{})),m=!1},d(S){S&&O(n),S&&j&&j.end(),T=!1,h()}}}function Bt(t){let e,n,l,s,i=t[1].name+"",r,o,a,c,d,b,p,y,u,M=t[1].home+"",w,j,m,T,h,I,S,E=t[1].since+"",N,H,B=t[1].left?`${t[1].left}`:"Now",D,L,z,P,_,A,k=t[1].work&&Kt(t),$=t[1].history&&t[1].history.length>0&&Yt(t);return{c(){e=v("div"),n=v("div"),l=v("div"),s=v("h4"),r=G(i),o=R(),a=v("button"),a.textContent="×",c=R(),d=v("div"),b=v("div"),p=v("span"),p.textContent="Home:",y=R(),u=v("span"),w=G(M),j=R(),k&&k.c(),m=R(),T=v("div"),h=v("span"),h.textContent="Resident:",I=R(),S=v("span"),N=G(E),H=G(" → "),D=G(B),L=R(),$&&$.c(),g(s,"class","svelte-16hjb2z"),g(a,"class","close-btn svelte-16hjb2z"),g(l,"class","modal-header svelte-16hjb2z"),g(p,"class","label svelte-16hjb2z"),g(u,"class","value svelte-16hjb2z"),g(b,"class","detail-row svelte-16hjb2z"),g(h,"class","label svelte-16hjb2z"),g(S,"class","value svelte-16hjb2z"),g(T,"class","detail-row svelte-16hjb2z"),g(d,"class","profile-details svelte-16hjb2z"),g(n,"class","modal svelte-16hjb2z"),g(e,"class","modal-backdrop svelte-16hjb2z")},m(C,F){q(C,e,F),f(e,n),f(n,l),f(l,s),f(s,r),f(l,o),f(l,a),f(n,c),f(n,d),f(d,b),f(b,p),f(b,y),f(b,u),f(u,w),f(d,j),k&&k.m(d,null),f(d,m),f(d,T),f(T,h),f(T,I),f(T,S),f(S,N),f(S,H),f(S,D),f(d,L),$&&$.m(d,null),P=!0,_||(A=[ne(a,"click",t[7]),ne(n,"click",tn(t[8])),ne(e,"click",t[7])],_=!0)},p(C,F){(!P||F&2)&&i!==(i=C[1].name+"")&&K(r,i),(!P||F&2)&&M!==(M=C[1].home+"")&&K(w,M),C[1].work?k?k.p(C,F):(k=Kt(C),k.c(),k.m(d,m)):k&&(k.d(1),k=null),(!P||F&2)&&E!==(E=C[1].since+"")&&K(N,E),(!P||F&2)&&B!==(B=C[1].left?`${C[1].left}`:"Now")&&K(D,B),C[1].history&&C[1].history.length>0?$?$.p(C,F):($=Yt(C),$.c(),$.m(d,null)):$&&($.d(1),$=null)},i(C){P||(C&&me(()=>{P&&(z||(z=wt(e,at,{},!0)),z.run(1))}),P=!0)},o(C){C&&(z||(z=wt(e,at,{},!1)),z.run(0)),P=!1},d(C){C&&O(e),k&&k.d(),$&&$.d(),C&&z&&z.end(),_=!1,ce(A)}}}function Kt(t){let e,n,l,s,i=t[1].work+"",r;return{c(){e=v("div"),n=v("span"),n.textContent="Work:",l=R(),s=v("span"),r=G(i),g(n,"class","label svelte-16hjb2z"),g(s,"class","value svelte-16hjb2z"),g(e,"class","detail-row svelte-16hjb2z")},m(o,a){q(o,e,a),f(e,n),f(e,l),f(e,s),f(s,r)},p(o,a){a&2&&i!==(i=o[1].work+"")&&K(r,i)},d(o){o&&O(e)}}}function Yt(t){let e,n,l,s,i=te(t[1].history),r=[];for(let o=0;o<i.length;o+=1)r[o]=Zt(Ut(t,i,o));return{c(){e=v("div"),n=v("span"),n.textContent="History",l=R(),s=v("ul");for(let o=0;o<r.length;o+=1)r[o].c();g(n,"class","label svelte-16hjb2z"),g(s,"class","history-list svelte-16hjb2z"),g(e,"class","history-section svelte-16hjb2z")},m(o,a){q(o,e,a),f(e,n),f(e,l),f(e,s);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(s,null)},p(o,a){if(a&2){i=te(o[1].history);let c;for(c=0;c<i.length;c+=1){const d=Ut(o,i,c);r[c]?r[c].p(d,a):(r[c]=Zt(d),r[c].c(),r[c].m(s,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=i.length}},d(o){o&&O(e),ke(r,o)}}}function hl(t){let e;return{c(){e=G("Left the city")},m(n,l){q(n,e,l)},p:W,d(n){n&&O(e)}}}function pl(t){let e,n=t[11].work+"",l;return{c(){e=G("Started job at "),l=G(n)},m(s,i){q(s,e,i),q(s,l,i)},p(s,i){i&2&&n!==(n=s[11].work+"")&&K(l,n)},d(s){s&&(O(e),O(l))}}}function ml(t){let e,n=t[11].from+"",l,s,i=t[11].to+"",r;return{c(){e=G("Moved "),l=G(n),s=G(" → "),r=G(i)},m(o,a){q(o,e,a),q(o,l,a),q(o,s,a),q(o,r,a)},p(o,a){a&2&&n!==(n=o[11].from+"")&&K(l,n),a&2&&i!==(i=o[11].to+"")&&K(r,i)},d(o){o&&(O(e),O(l),O(s),O(r))}}}function vl(t){let e,n=t[11].home+"",l;return{c(){e=G("Moved into "),l=G(n)},m(s,i){q(s,e,i),q(s,l,i)},p(s,i){i&2&&n!==(n=s[11].home+"")&&K(l,n)},d(s){s&&(O(e),O(l))}}}function Zt(t){let e,n,l=t[11].time+"",s,i,r,o;function a(b,p){if(b[11].type==="move_in")return vl;if(b[11].type==="move")return ml;if(b[11].type==="new_job")return pl;if(b[11].type==="left_city")return hl}let c=a(t),d=c&&c(t);return{c(){e=v("li"),n=v("span"),s=G(l),i=R(),r=v("span"),d&&d.c(),o=R(),g(n,"class","history-time svelte-16hjb2z"),g(r,"class","history-desc"),g(e,"class","svelte-16hjb2z")},m(b,p){q(b,e,p),f(e,n),f(n,s),f(e,i),f(e,r),d&&d.m(r,null),f(e,o)},p(b,p){p&2&&l!==(l=b[11].time+"")&&K(s,l),c===(c=a(b))&&d?d.p(b,p):(d&&d.d(1),d=c&&c(b),d&&(d.c(),d.m(r,null)))},d(b){b&&O(e),d&&d.d()}}}function gl(t){let e,n,l,s,i,r,o,a,c,d,b,p,y,u,M,w,j,m;const T=[dl,ul],h=[];function I(E,N){return E[2]>0?0:1}y=I(t),u=h[y]=T[y](t);let S=t[1]&&Bt(t);return{c(){e=v("div"),n=v("h3"),n.textContent="SimTwitty Feed",l=R(),s=v("div"),i=v("textarea"),r=R(),o=v("div"),a=v("button"),c=G("Tweet"),b=R(),p=v("div"),u.c(),M=R(),S&&S.c(),g(n,"class","svelte-16hjb2z"),g(i,"placeholder","What's happening in the city, Mayor?"),g(i,"class","svelte-16hjb2z"),a.disabled=d=!t[0].trim(),g(a,"class","svelte-16hjb2z"),g(o,"class","tweet-actions svelte-16hjb2z"),g(s,"class","tweet-input svelte-16hjb2z"),g(p,"class","messages-container svelte-16hjb2z"),g(e,"class","feed svelte-16hjb2z")},m(E,N){q(E,e,N),f(e,n),f(e,l),f(e,s),f(s,i),We(i,t[0]),f(s,r),f(s,o),f(o,a),f(a,c),f(e,b),f(e,p),h[y].m(p,null),f(e,M),S&&S.m(e,null),w=!0,j||(m=[ne(i,"input",t[9]),ne(i,"keydown",t[5]),ne(a,"click",t[4])],j=!0)},p(E,[N]){N&1&&We(i,E[0]),(!w||N&1&&d!==(d=!E[0].trim()))&&(a.disabled=d);let H=y;y=I(E),y===H?h[y].p(E,N):(Ne(),X(h[H],1,1,()=>{h[H]=null}),Le(),u=h[y],u?u.p(E,N):(u=h[y]=T[y](E),u.c()),Y(u,1),u.m(p,null)),E[1]?S?(S.p(E,N),N&2&&Y(S,1)):(S=Bt(E),S.c(),Y(S,1),S.m(e,null)):S&&(Ne(),X(S,1,1,()=>{S=null}),Le())},i(E){w||(Y(u),Y(S),w=!0)},o(E){X(u),X(S),w=!1},d(E){E&&O(e),h[y].d(),S&&S.d(),j=!1,ce(m)}}}function _l(t,e,n){let l,s;fe(t,qe,u=>n(2,l=u)),fe(t,rn,u=>n(3,s=u));let i="",r=null;function o(){i.trim()&&(Re(i,{name:"Mayor",isSystem:!0}),n(0,i=""))}function a(u){u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),o())}function c(u){u.isSystem||n(1,r=u)}function d(){n(1,r=null)}function b(u){ln.call(this,t,u)}function p(){i=this.value,n(0,i)}return[i,r,l,s,o,a,c,d,b,p,u=>c(u.author)]}class yl extends Ce{constructor(e){super(),$e(this,e,_l,gl,ve,{})}}function bl(t){let e,n,l,s,i,r,o,a,c,d,b,p,y;return n=new Kn({}),r=new Vn({}),c=new al({}),p=new yl({}),{c(){e=v("div"),Ee(n.$$.fragment),l=R(),s=v("div"),i=v("main"),Ee(r.$$.fragment),o=R(),a=v("div"),Ee(c.$$.fragment),d=R(),b=v("aside"),Ee(p.$$.fragment),g(a,"class","game-board svelte-ui0l6c"),g(i,"class","svelte-ui0l6c"),g(b,"class","svelte-ui0l6c"),g(s,"class","content-wrapper svelte-ui0l6c"),g(e,"class","app-container svelte-ui0l6c")},m(u,M){q(u,e,M),be(n,e,null),f(e,l),f(e,s),f(s,i),be(r,i,null),f(i,o),f(i,a),be(c,a,null),f(s,d),f(s,b),be(p,b,null),y=!0},p:W,i(u){y||(Y(n.$$.fragment,u),Y(r.$$.fragment,u),Y(c.$$.fragment,u),Y(p.$$.fragment,u),y=!0)},o(u){X(n.$$.fragment,u),X(r.$$.fragment,u),X(c.$$.fragment,u),X(p.$$.fragment,u),y=!1},d(u){u&&O(e),we(n),we(r),we(c),we(p)}}}function wl(t){let e;return gn(()=>{e=setInterval(()=>{Nn()},250)}),_n(()=>{e&&clearInterval(e)}),[]}class kl extends Ce{constructor(e){super(),$e(this,e,wl,bl,ve,{})}}new kl({target:document.getElementById("app")});
